[profile.default]
src = "contracts"
out = "out"
libs = ["lib"]
test = "test"
cache_path = "cache"

solc_version = "0.8.30"
evm_version = "cancun"

optimizer = true
optimizer_runs = 200
via_ir = false

# Дозволяємо читати тест-вектори (test_vectors/, vectors/, etc.)
fs_permissions = [
  { access = "read", path = "./" }
]

[fuzz]
runs = 256

[fmt]
line_length = 100

# Опційний профіль: вмикається так:
#   FOUNDRY_PROFILE=via_ir forge test
# Але ти вже бачив, що іноді solc все одно падає “stack too deep” навіть у via-ir,
# тому дефолт тримаємо без via_ir.
[profile.via_ir]
solc_version = "0.8.30"
evm_version = "cancun"
optimizer = true
optimizer_runs = 200
via_ir = true
fs_permissions = [
  { access = "read", path = "./" }
]
